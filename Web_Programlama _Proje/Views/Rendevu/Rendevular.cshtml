@model IEnumerable<Web_Programlama__Proje.Models.Rendevu>

<div class="container mt-4">
    <div class="alert-danger"> @TempData["msj"]</div>
    <h2 class="text-center mb-4 text-primary">Randevular</h2>

    <div class="d-flex justify-content-end mb-3">
        <a class="btn btn-success" asp-action="RendevuAl">+ Randevu Al</a>
    </div>

    <div class="table-responsive shadow-lg rounded">
        <table class="table table-hover table-striped table-bordered">
            <thead class="thead-dark bg-primary text-white">
                <tr class="text-center">
                    <th>@Html.DisplayNameFor(model => model.First().MusteriiID)</th>
                    <th>@Html.DisplayNameFor(model => model.First().MusteriAd)</th>
                    <th>@Html.DisplayNameFor(model => model.First().MusteriSoyAd)</th>
                    <th>@Html.DisplayNameFor(model => model.First().MusteriTelefonNo)</th>
                    <th>@Html.DisplayNameFor(model => model.First().MusteriMail)</th>
                    <th>@Html.DisplayNameFor(model => model.First().RendevuZaman)</th>
                    <th>Durum</th>
                    <th>İşlemler</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr class="text-center align-middle">
                        <td>@Html.DisplayFor(modelItem => item.MusteriiID)</td>
                        <td>@Html.DisplayFor(modelItem => item.MusteriAd)</td>
                        <td>@Html.DisplayFor(modelItem => item.MusteriSoyAd)</td>
                        <td>@Html.DisplayFor(modelItem => item.MusteriTelefonNo)</td>
                        <td class="text-danger">@Html.DisplayFor(modelItem => item.MusteriMail)</td>
                        <td>@item.RendevuZaman.ToString("dd/MM/yyyy HH:mm")</td>
                        <td>
                            @if (item.RendevuDurumu == null)
                            {
                                <span class="badge bg-warning text-dark">Onay Bekliyor</span>
                            }
                            else if (item.RendevuDurumu == 1)
                            {
                                <span class="badge bg-success">Onaylandı</span>
                            }
                            else if (item.RendevuDurumu == 0)
                            {
                                <span class="badge bg-danger">Reddedildi</span>
                            }
                        </td>
                        <td>
                            <a class="btn btn-sm btn-outline-primary mx-1" asp-action="RendevuDuzenle" asp-route-id="@item.MusteriiID">
                                <i class="fas fa-edit"></i> Düzenle
                            </a>
                            <a class="btn btn-sm btn-outline-info mx-1" asp-action="RendavuDetay" asp-route-id="@item.MusteriiID">
                                <i class="fas fa-info-circle"></i> Detay
                            </a>
                            <a class="btn btn-sm btn-outline-danger mx-1" asp-action="RendavuSil" asp-route-id="@item.MusteriiID">
                                <i class="fas fa-trash-alt"></i> Sil
                            </a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
